# election-demo

简易投票服务后端 Restful API demo

# 功能

1. 管理员部分
   1. 控制选举开始与结束
   2. 添加候选人，不可移除候选人，一场选举最少 2 个候选人
   3. 任意时间查询选举中的候选人实时得票情况
      1. 每个候选人获得票数
      2. 投给该候选人的用户，10 个用户一页
   4. 选举结束后查看最终结果
2. 普通用户在验证身份后进行投票
   1. 用户需要登记邮箱和验证香港身份证号码后进行投票
      1. 香港身份证格式：字⺟+6 位数字+括号內 1 位数字，例如: A123456(7)
   2. 用户选举结束后可以一次性见到当时选举实时状态
   3. 用户选举结束后通过之前登记的邮箱收到选举详细结果
   4. 每个合法用户在每次选举限投票一次

# Quick Start

## 配置文件

可以通过配置环境变量，或者复制 ./election-app/config/.envexample 文件到 ./election-app 目录中，文件名修改成 .env。

.env 配置项不覆盖当前环境变量。

## npm 启动

```bash
# 生产环境启动
npm start

# 开发环境
npm run dev

# 运行单元测试
npm run test
```

## docker

可直接在项目目录使用 docker compose 启动

```bash
docker-compose up -d
```

# 接口

[接口文档](./api.md)
